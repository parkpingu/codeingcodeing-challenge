### 네트워크를 공부해야하는 이유

- 개발 중 네트워크 관련 문제가 생겼을 때 문제의 원인을 빠르게 파악할 수 있다.

### 1. 네트워크와 라우터

- **노드** : 데이터를 송수신하는 모든 장치(휴대폰, 노트북, 서버 장비 등)
- **네트워크** : 각 노드가 서로 데이터를 주고받기 위해 연결된 시스템
- **패킷** : 네트워크를 통해 전송되는 데이터의 단위
    - 패킷의 구성:
        - 헤더 : 패킷의 발신자와 수신자 정보 등 메타 데이터
        - 페이로드 : 실제 전송하려는 원본 데이터
- **라우터** : 네트워크 간에 패킷을 전송하는 역할

### 2. IP 주소와 도메인

- **IP 주소** : 네트워크 상의 각 장치(노드)를 구분하기 위한 고유 주소
    - **IPv4** : 32비트 주소 (예시 : `172.20.10.3` )
    - **IPv6** : 128비트 주소 (예시 : `2001:0db8:85a3:0000:0000:8a2e:0370:7334` )
- **도메인 이름** : 사람이 IP 주소를 외우기 어렵기 때문에 기억하기 쉬운 이름을 붙인 것(`naver.com` 등)
- **DNS(Domain Name System)** : 도메인 이름 ↔ IP 주소 간의 변환을 담당하는 시스템
    - 일종의 인터넷 전화번호부
    - 예시 : 사용자가 `google.com` 입력 → DNS가 실제 IP 주소(`142.250.206.206`)로 변환
    - 단 `localhost`는 예외로, 일반 도메인처럼 DNS를 거치지 않고 로컬 컴퓨터의 `hosts` 파일을 통해 `127.0.0.1` 로 직접 매핑됨
    - 한 도메인 이름에 여러개의 IP 주소가 매핑되는 경우가 있음 → 이 경우 DNS 서버는 등록된 IP를 번갈아 제공
- **고정 IP와 동적 IP**
    - **고정 IP**
        - 노드가 고정된 IP 주소를 갖는 방식으로 IP 주소를 직접 지정하여 사용
        - 서버 IP가 대표적
    - **동적 IP**
        - 노드가 네트워크에 연결할 때마다 IP를 할당받는 방식
        - DHCP 서버를 통해 IP를 제공받음
        - 가정에서 사용하는 공유기가 주로 이 방식을 사용
- **공인 IP와 사설 IP**
    - **공인 IP(공용 IP)**
        - 인터넷에서 접근 가능한 IP 주소
        - 전 세계적으로 고유하며 중복되지 않음
        - 방화벽으로 막지 않았다면 누구나 해당 IP로 연결 가능
    - **사설 IP**
        - 내부 네트워크에서만 사용 가능한 IP 주소(장치 식별용)
        - 사설 IP 주소 범위
            - 192.168.x.x
            - 10.x.x.x
            - 172.16.x.x ~ 172.31.x.x

### 3. NAT (Network Address Translation)

- 내부 네트워크의 사설 IP 주소를 외부 인터넷에서 통신 가능한 공인 IP 주소로 변환하는 기술
- **NAT의 종류**
    - **SNAT**(Source NAT) : 출발지 사설 IP를 공인 IP로 변환
    - **DNAT**(Destination NAT) : 목적지 공인 IP를 사설 IP로 변환

### 4. VPN (Virtual Private Network)

- 인터넷과 같은 공용 네트워크에서 서로 다른 네트워크 간 암호화된 연결 제공
- 두 네트워크는 마치 하나의 사설 네트워크에 존재하는 것처럼 연결될 수 있음

### 5. 프로토콜 (Protocol)

- 네트워크 상에서 두 노드가 데이터를 주고받기 위해 정의한 통신 규칙
- **TCP (Transmission Control Protocol)**
    - 신뢰성 있는 연결 지향형 전송 프로토콜
    - 연결 시에는 3-Way Handshake, 연결 종료 시에는 4-Way Handshake 수행
        
        ```
        3-Way Handshake

        Endpoint A                    Endpoint B
           |       SYN Request           |
           | ------------------------->  |
           |                             |
           |       SYN + ACK             |
           | <-------------------------  |
           |                             |
           |          ACK                |
           | ------------------------->  |
           |                             |
         
         연결 완료 (Data 전송 가능)
        ```
        
        ```
        4-Way Handshake

        Endpoint A                    Endpoint B
           |         FIN                |
           | -------------------------> |
           |                            |
           |         ACK                |
           | <------------------------- |
           |                            |
           |             FIN            |
           | <------------------------- |
           |                            |
           |             ACK            |
           | -------------------------> |
           |                            |
         
         연결 종료
        ```
        
    - 신뢰성 있는 데이터 전송을 보장하며, 패킷 순서 보장 및 손실 시 재전송 기능 제공
    - 주로 파일 전송, 이메일, 웹 브라우징(HTTP/HTTPS) 등 신뢰가 중요한 서비스에서 사용
- **UDP (User Datagram Protocol)**
    - 연결 과정 없이 바로 데이터 전송 (Handshake 없음)
    - **비신뢰성** : 데이터가 유실되거나 순서가 바뀌어도 이를 감지하거나 보정하지 않음
    - TCP에 비해 전송 속도가 빠르고 오버헤드가 적음
    - 신속한 전송이 중요한 서비스에 적합 (예: 실시간 스트리밍, 온라인 게임, DNS 등)
- **QUIC**
    - UDP를 기반으로 하지만 TCP의 연결 관리 기능 제공
    - TLS를 전송 계층에 통합하여 모든 패킷을 기본적으로 암호화
    - **멀티플렉싱 지원** : 하나의 연결에서 여러 스트림 동시에 처리 가능
    → 특정 스트림에서 지연이 발생해도 다른 스트림에 영향을 주지 않음 (HOL 블로킹 해결)